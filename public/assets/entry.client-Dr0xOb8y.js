import{r as e}from"./rolldown-runtime-fPb2DjLB.js";import{C as t,S as n,T as r,_ as i,b as a,c as o,f as s,g as c,h as l,j as u,l as d,m as f,n as p,o as m,p as h,t as g,v as _,w as v,x as y,y as b}from"./chunk-EPOLDU6W-Bu_delzX.js";import{t as x}from"./client-CXXCpbHT.js";import{t as S}from"./react-dom-FSlBNwid.js";var C=x(),w=e(u(),1);[...m],new TextEncoder,w.use;function T(e){if(!e)return null;let t=Object.entries(e),n={};for(let[e,r]of t)if(r&&r.__type===`RouteErrorResponse`)n[e]=new g(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type===`Error`){if(r.__subType){let t=window[r.__subType];if(typeof t==`function`)try{let i=new t(r.message);i.stack=r.stack,n[e]=i}catch{}}if(n[e]==null){let t=Error(r.message);t.stack=r.stack,n[e]=t}}else n[e]=r;return n}function E({state:e,routes:n,getRouteInfo:r,location:i,basename:a,isSpaMode:o}){let s={...e,loaderData:{...e.loaderData}},c=t(n,i,a);if(c)for(let e of c){let t=e.route.id,n=r(t);v(t,n.clientLoader,n.hasLoader,o)&&(n.hasHydrateFallback||!n.hasLoader)?delete s.loaderData[t]:n.hasLoader||(s.loaderData[t]=null)}return s}var D=e(S(),1);S();function O(e){return w.createElement(d,{flushSync:D.flushSync,...e})}var k=null,A=null;function j(){if(!k&&window.__reactRouterContext&&window.__reactRouterManifest&&window.__reactRouterRouteModules){if(window.__reactRouterManifest.sri===!0){let e=document.querySelector(`script[rr-importmap]`);if(e?.textContent)try{window.__reactRouterManifest.sri=JSON.parse(e.textContent).integrity}catch(e){console.error(`Failed to parse import map`,e)}}k={context:window.__reactRouterContext,manifest:window.__reactRouterManifest,routeModules:window.__reactRouterRouteModules,stateDecodingPromise:void 0,router:void 0,routerInitialized:!1}}}function M({getContext:e,unstable_instrumentations:t}){if(j(),!k)throw Error("You must be using the SSR features of React Router in order to skip passing a `router` prop to `<RouterProvider>`");let r=k;if(!k.stateDecodingPromise){let e=k.context.stream;y(e,`No stream found for single fetch decoding`),k.context.stream=void 0,k.stateDecodingPromise=i(e,window).then(e=>{k.context.state=e.value,r.stateDecodingPromise.value=!0}).catch(e=>{r.stateDecodingPromise.error=e})}if(k.stateDecodingPromise.error)throw k.stateDecodingPromise.error;if(!k.stateDecodingPromise.value)throw k.stateDecodingPromise;let o=h(k.manifest.routes,k.routeModules,k.context.state,k.context.ssr,k.context.isSpaMode),l;if(k.context.isSpaMode){let{loaderData:e}=k.context.state;k.manifest.routes.root?.hasLoader&&e&&`root`in e&&(l={loaderData:{root:e.root}})}else l=E({state:k.context.state,routes:o,getRouteInfo:e=>({clientLoader:k.routeModules[e]?.clientLoader,hasLoader:k.manifest.routes[e]?.hasLoader===!0,hasHydrateFallback:k.routeModules[e]?.HydrateFallback!=null}),location:window.location,basename:window.__reactRouterContext?.basename,isSpaMode:k.context.isSpaMode}),l&&l.errors&&(l.errors=T(l.errors));let u=c({routes:o,history:s(),basename:k.context.basename,getContext:e,hydrationData:l,hydrationRouteProperties:a,unstable_instrumentations:t,mapRouteProperties:n,future:{middleware:k.context.future.v8_middleware},dataStrategy:b(()=>u,k.manifest,k.routeModules,k.context.ssr,k.context.basename,k.context.future.unstable_trailingSlashAwareDataRequests),patchRoutesOnNavigation:_(k.manifest,k.routeModules,k.context.ssr,k.context.routeDiscovery,k.context.isSpaMode,k.context.basename)});return k.router=u,u.state.initialized&&(k.routerInitialized=!0,u.initialize()),u.createRoutesForHMR=f,window.__reactRouterDataRouter=u,u}function N(e){A||=M({getContext:e.getContext,unstable_instrumentations:e.unstable_instrumentations});let[t,n]=w.useState(void 0);w.useEffect(()=>{},[]),w.useEffect(()=>{},[t]);let[i,a]=w.useState(A.state.location);return w.useLayoutEffect(()=>{k&&k.router&&!k.routerInitialized&&(k.routerInitialized=!0,k.router.initialize())},[]),w.useLayoutEffect(()=>{if(k&&k.router)return k.router.subscribe(e=>{e.location!==i&&a(e.location)})},[i]),y(k,`ssrInfo unavailable for HydratedRouter`),r(A,k.manifest,k.routeModules,k.context.ssr,k.context.routeDiscovery,k.context.isSpaMode),w.createElement(w.Fragment,null,w.createElement(p.Provider,{value:{manifest:k.manifest,routeModules:k.routeModules,future:k.context.future,criticalCss:t,ssr:k.context.ssr,isSpaMode:k.context.isSpaMode,routeDiscovery:k.context.routeDiscovery}},w.createElement(o,{location:i},w.createElement(O,{router:A,unstable_useTransitions:e.unstable_useTransitions,onError:e.onError}))),w.createElement(w.Fragment,null))}l(),(0,w.startTransition)(()=>{(0,C.hydrateRoot)(document,(0,w.createElement)(N))});